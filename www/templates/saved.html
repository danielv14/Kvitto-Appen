<ion-view view-title="Sparade kvitton">
  <ion-content>

    <div class="list">
      <div class="item item-divider">Obetalda</div>
      <li class="item item-icon-left item-icon-right" ng-repeat="item in items_unpayed | filter:{done:false} | orderBy:'-createdAt'">
        <!-- display different icons on the left depending on if the receipt is payed or not -->
        <i ng-if="item.done == false" ng-click="markDone(item.$id)" class="icon ion-ios-circle-outline assertive"></i>
        <i ng-if="item.done == true" ng-click="markUnDone(item.$id)" class="icon ion-ios-checkmark-outline balanced"></i>
        <!-- Display title depending on who payed -->
        <h2 ng-if="item.whoPayed == 'person1'">
          {{config[0].$value}} betalade {{item.costPerson1 + item.costPerson2}} kr
        </h2>
        <h2 ng-if="item.whoPayed == 'person2'">
          {{config[1].$value}} betalade {{item.costPerson1 + item.costPerson2}} kr
        </h2>
        <!-- Display cost for each person -->
        <p>{{config[0].$value}}: {{item.costPerson1}} kr</p>
        <p>{{config[1].$value}}: {{item.costPerson2}} kr</p>

        <!-- Display various info about the receipt -->
        <p>
          <i class="ion-ios-clock-outline"></i>
          <span>{{item.createdAt | amCalendar}}</span> |
          <i ng-if="item.category == 'food'" class="ion-fork"></i>
          <i ng-if="item.category == 'other'" class="ion-bag"></i>
          <i ng-if="item.category == 'pleasure'" class="ion-ios-star-outline"></i>
        </p>

        <!-- Icon to delete receipt from firebase db -->
        <i ng-click="remove(item.$id)" class="icon ion-trash-b"></i>
      </li>

      <!-- Payed receipts -->
      <div class="item item-divider">Betalda</div>
      <!-- repeat all the items by filiter and order them -->
      <li class="item item-icon-left item-icon-right" ng-repeat="item in items | filter:{done:true} | orderBy:'-createdAt'">
        <!-- display different icons on the left depending on if the receipt is payed or not -->
        <i ng-if="item.done == false" ng-click="markDone(item.$id)" class="icon ion-ios-circle-outline assertive"></i>
        <i ng-if="item.done == true" ng-click="markUnDone(item.$id)" class="icon ion-ios-checkmark-outline balanced"></i>
        <!-- Display title depending on who payed -->
        <h2 ng-if="item.whoPayed == 'person1'">
          {{config[0].$value}} betalade {{item.costPerson1 + item.costPerson2}} kr
        </h2>
        <h2 ng-if="item.whoPayed == 'person2'">
          {{config[1].$value}} betalade {{item.costPerson1 + item.costPerson2}} kr
        </h2>
        <!-- Display cost for each person -->
        <p>{{config[0].$value}}: {{item.costPerson1}} kr</p>
        <p>{{config[1].$value}}: {{item.costPerson2}} kr</p>

        <!-- Display various info about the receipt -->
        <p>
          <i class="ion-ios-clock-outline"></i>
          <span>{{item.createdAt | amCalendar}}</span> |
          <i ng-if="item.category == 'food'" class="ion-fork"></i>
          <i ng-if="item.category == 'other'" class="ion-bag"></i>
          <i ng-if="item.category == 'pleasure'" class="ion-ios-star-outline"></i>
        </p>

        <!-- Icon to delete receipt from firebase db -->
        <i ng-click="remove(item.$id)" class="icon ion-trash-b"></i>

      </li>
      <!-- end of payed receipts -->
    </div>



    <!-- ininity scroll -->
    <ion-infinite-scroll ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" distance="20%"></ion-infinite-scroll>

  </ion-content>
</ion-view>
